{% extends "base.html" %}

{% block title %}Home - Driver Testing Platform{% endblock %}

{% block content %}
<div class="hero" id="heroSection">
    <h1>üöó Zimbabwe Provisional Driver Testing Platform</h1>
    <p class="hero-subtitle">Practice and prepare for your computerized provisional driver testing exam</p>
    <div class="hero-buttons">
        {% if not current_user.is_authenticated %}
            <a href="{{ url_for('register') }}" class="btn btn-primary">Get Started</a>
            <a href="{{ url_for('login') }}" class="btn btn-secondary">Login</a>
        {% else %}
            <a href="{{ url_for('take_test') }}" class="btn btn-primary">Take a Test</a>
            <a href="{{ url_for('dashboard') }}" class="btn btn-secondary">View Dashboard</a>
        {% endif %}
    </div>
</div>

<div class="test-section" id="test-section">
    <h2>üéØ Try a Sample Question</h2>
    <div class="sample-question">
        <p class="question-text">What should you do when approaching a red traffic light?</p>
        <div class="question-options">
            <button class="option-button" onclick="showTestAnswer('A')">
                A) Speed up to get through quickly
            </button>
            <button class="option-button" onclick="showTestAnswer('B')">
                B) Stop and wait for green light
            </button>
            <button class="option-button" onclick="showTestAnswer('C')">
                C) Ignore the light if no cars are coming
            </button>
        </div>
        <div id="test-result" class="question-result" style="display: none;"></div>
    </div>
    <div class="test-note">
        <p><strong>Ready for more?</strong> Create an account to access our full library of practice questions and track your progress!</p>
    </div>
    <div class="test-actions">
        {% if not current_user.is_authenticated %}
            <a href="{{ url_for('register') }}" class="btn btn-primary">Start Full Practice Test</a>
        {% else %}
            <a href="{{ url_for('take_test') }}" class="btn btn-primary">Start Full Practice Test</a>
        {% endif %}
    </div>
</div>

<div class="features">
    <div class="feature-card">
        <h3>üìö Interactive Tests</h3>
        <p>Practice with randomized questions covering all aspects of provisional driving</p>
    </div>
    <div class="feature-card">
        <h3>üìñ Study Resources</h3>
        <p>Download comprehensive PDF materials to study offline</p>
    </div>
    <div class="feature-card">
        <h3>üìä Performance Tracking</h3>
        <p>Monitor your progress and identify areas for improvement</p>
    </div>
    <div class="feature-card">
        <h3>‚è±Ô∏è Timed Practice</h3>
        <p>Simulate real exam conditions with timed tests</p>
    </div>
</div>

<div class="pricing">
    <h2>Choose Your Plan</h2>
    <div class="pricing-cards">
        <div class="pricing-card">
            <h3>Free Tier</h3>
            <div class="price">$0/month</div>
            <ul>
                <li>2 tests per day</li>
                <li>3 PDF downloads</li>
                <li>Basic performance tracking</li>
            </ul>
        </div>
        <div class="pricing-card featured">
            <h3>Premium</h3>
            <div class="price">$3/month</div>
            <ul>
                <li>Unlimited tests</li>
                <li>Unlimited PDF downloads</li>
                <li>Full performance analytics</li>
                <li>Priority support</li>
            </ul>
            {% if current_user.is_authenticated and not current_user.is_subscriber %}
                <a href="{{ url_for('subscribe') }}" class="btn btn-primary">Subscribe Now</a>
            {% elif current_user.is_authenticated and current_user.is_subscriber %}
                <span class="subscribed">‚úì Subscribed</span>
            {% else %}
                <a href="{{ url_for('register') }}" class="btn btn-primary">Get Started</a>
            {% endif %}
        </div>
    </div>
</div>

<script>
function showTestAnswer(selected) {
    const resultDiv = document.getElementById('test-result');
    const correctAnswer = 'B';
    
    if (selected === correctAnswer) {
        resultDiv.innerHTML = '<div class="result-correct">‚úì Correct! That\'s the right answer.</div>';
        resultDiv.className = 'question-result result-correct';
    } else {
        resultDiv.innerHTML = '<div class="result-incorrect">‚úó Incorrect. The correct answer is B) Stop and wait for green light.</div>';
        resultDiv.className = 'question-result result-incorrect';
    }
    
    resultDiv.style.display = 'block';
    
    // Disable all buttons after selection
    document.querySelectorAll('.option-button').forEach(btn => {
        btn.disabled = true;
        btn.style.opacity = '0.6';
    });
}

function scrollToSection(sectionId) {
    document.getElementById(sectionId).scrollIntoView({ 
        behavior: 'smooth' 
    });
}
</script>
{% endblock %}



