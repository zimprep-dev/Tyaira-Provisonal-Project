{% extends "base.html" %}

{% block title %}Home - Driver Testing Platform{% endblock %}

{% block content %}
<div class="hero">
    <h1>üöó Zimbabwe Provisional Driver Testing Platform</h1>
    <p class="hero-subtitle">Practice and prepare for your computerized provisional driver testing exam</p>
    <div class="hero-buttons">
        {% if not current_user.is_authenticated %}
            <a href="{{ url_for('register') }}" class="btn btn-primary">Get Started</a>
            <a href="{{ url_for('login') }}" class="btn btn-secondary">Login</a>
        {% else %}
            <a href="{{ url_for('take_test') }}" class="btn btn-primary">Take a Test</a>
            <a href="{{ url_for('dashboard') }}" class="btn btn-secondary">View Dashboard</a>
        {% endif %}
    </div>
</div>

<div class="features">
    <div class="feature-card">
        <h3>üìö Interactive Tests</h3>
        <p>Practice with randomized questions covering all aspects of provisional driving</p>
    </div>
    <div class="feature-card">
        <h3>üìñ Study Resources</h3>
        <p>Download comprehensive PDF materials to study offline</p>
    </div>
    <div class="feature-card">
        <h3>üìä Performance Tracking</h3>
        <p>Monitor your progress and identify areas for improvement</p>
    </div>
    <div class="feature-card">
        <h3>‚è±Ô∏è Timed Practice</h3>
        <p>Simulate real exam conditions with timed tests</p>
    </div>
</div>

<div class="preview-section">
    <h2>Try a Sample Question</h2>
    <div class="preview-test">
        <div class="question">
            <p><strong>What should you do when approaching a red traffic light?</strong></p>
            <div class="options">
                <button class="option-btn" onclick="showPreviewAnswer('A')">A) Speed up to get through quickly</button>
                <button class="option-btn" onclick="showPreviewAnswer('B')">B) Stop and wait for green light</button>
                <button class="option-btn" onclick="showPreviewAnswer('C')">C) Ignore the light if no cars are coming</button>
            </div>
            <div id="preview-result" class="preview-result"></div>
        </div>
        <div class="preview-note">
            <p><em>Create an account to see your answer and take full tests!</em></p>
        </div>
    </div>
</div>

<div class="pricing">
    <h2>Choose Your Plan</h2>
    <div class="pricing-cards">
        <div class="pricing-card">
            <h3>Free Tier</h3>
            <div class="price">$0/month</div>
            <ul>
                <li>2 tests per day</li>
                <li>3 PDF downloads</li>
                <li>Basic performance tracking</li>
            </ul>
        </div>
        <div class="pricing-card featured">
            <h3>Premium</h3>
            <div class="price">$3/month</div>
            <ul>
                <li>Unlimited tests</li>
                <li>Unlimited PDF downloads</li>
                <li>Full performance analytics</li>
                <li>Priority support</li>
            </ul>
            {% if current_user.is_authenticated and not current_user.is_subscriber %}
                <a href="{{ url_for('subscribe') }}" class="btn btn-primary">Subscribe Now</a>
            {% elif current_user.is_authenticated and current_user.is_subscriber %}
                <span class="subscribed">‚úì Subscribed</span>
            {% else %}
                <a href="{{ url_for('register') }}" class="btn btn-primary">Get Started</a>
            {% endif %}
        </div>
    </div>
</div>

<script>
function showPreviewAnswer(selected) {
    const resultDiv = document.getElementById('preview-result');
    const correctAnswer = 'B';
    
    if (selected === correctAnswer) {
        resultDiv.innerHTML = '<div class="correct">‚úì Correct! That\'s the right answer.</div>';
    } else {
        resultDiv.innerHTML = '<div class="incorrect">‚úó Incorrect. The correct answer is B) Stop and wait for green light.</div>';
    }
    
    // Disable all buttons after selection
    document.querySelectorAll('.option-btn').forEach(btn => {
        btn.disabled = true;
        btn.style.opacity = '0.6';
    });
}
</script>
{% endblock %}



