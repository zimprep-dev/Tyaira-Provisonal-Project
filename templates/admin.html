{% extends "base.html" %}

{% block title %}CMS Dashboard - Driver Testing Platform{% endblock %}

{% block content %}
<div class="cms-dashboard">
    <!-- Header -->
    <div class="cms-header">
        <h1><i data-feather="sliders"></i> Content Management System</h1>
        <p>Manage tests, questions, and resources</p>
    </div>

    <!-- Quick Stats -->
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-icon"><i data-feather="file-text"></i></div>
            <div class="stat-info">
                <div class="stat-number">{{ stats.total_questions }}</div>
                <div class="stat-label">Questions</div>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon"><i data-feather="target"></i></div>
            <div class="stat-info">
                <div class="stat-number">{{ stats.categories }}</div>
                <div class="stat-label">Categories</div>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon"><i data-feather="users"></i></div>
            <div class="stat-info">
                <div class="stat-number">{{ stats.total_users }}</div>
                <div class="stat-label">Users</div>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon"><i data-feather="bar-chart-2"></i></div>
            <div class="stat-info">
                <div class="stat-number">{{ stats.total_tests }}</div>
                <div class="stat-label">Tests Taken</div>
            </div>
        </div>
    </div>

    <!-- Quick Actions -->
    <div class="quick-actions">
        <h2><i data-feather="zap"></i> Quick Actions</h2>
        <div class="actions-grid">
            <a href="{{ url_for('admin_questions') }}" class="action-card">
                <div class="action-icon"><i data-feather="help-circle"></i></div>
                <h3>Manage Questions</h3>
                <p>Add, edit, and organize test questions with images</p>
            </a>
            <a href="{{ url_for('admin_tests') }}" class="action-card">
                <div class="action-icon"><i data-feather="settings"></i></div>
                <h3>Configure Tests</h3>
                <p>Set up test parameters, timers, and question limits</p>
            </a>
            <a href="{{ url_for('admin_files') }}" class="action-card">
                <div class="action-icon"><i data-feather="folder"></i></div>
                <h3>File Management</h3>
                <p>Upload images and PDFs for questions and resources</p>
            </a>
            <a href="{{ url_for('admin_analytics') }}" class="action-card">
                <div class="action-icon"><i data-feather="activity"></i></div>
                <h3>Analytics</h3>
                <p>View test performance and user statistics</p>
            </a>
        </div>
    </div>

    <!-- Recent Activity -->
    <div class="recent-activity">
        <h2><i data-feather="activity"></i> Recent Activity</h2>
        <div class="activity-list">
            {% for activity in recent_activity %}
            <div class="activity-item">
                <div class="activity-content">
                    <span class="activity-text">{{ activity.description }}</span>
                    <span class="activity-time">{{ activity.timestamp.strftime('%Y-%m-%d %H:%M') }}</span>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}
